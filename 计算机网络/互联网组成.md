## 从因特网的工作方式看

### 边缘部分

有所有连接在因特网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频和视频）和资源共享。

处在因特网边缘的部分就是连接在因特网上的所有的主机。这些主机又称为**端系统**。

主机A 的某个进程和主机B 上的另一个进程进行通信。称为”计算机之间通信“。

#### 两种通信方式

在网络边缘的端系统中运行的程序之间的通信方式通常可划分为两大类：

**客户服务器方式**（C/S方式），即Client/Server方式

​	`客户软件`

​	1.被用户调用后运行，在打算通信时主动向远地服务器发起通信（请求服务）。因此，客户程序必须知道服务器程序的地址

​	2.简单。不需要特殊的硬件和很复杂的操作系统。

​	`服务软件`

​	1.一种专门用来提供某种服务的程序，可同时处理多个远地或本地客户的请求

​	2.系统启动后即自动调用并**一直不断地运行着，被动地等待**并接受来自各地的客户的通信请求。因此，服务器程序不需要知道来自各地的客户的通信请求。因此，服务器程序不需要知道客户程序的地址。

​	3.一般需要强大的硬件和高级的操作系统支持。

**对等方式**（P2P方式），即Peer-to-Peer方式

​	指两个主机在通信时，并不区分哪一个是服务请求方还是服务提供方。

​	只要两个主机都运行对等连接软件（P2P软件），他们就可以进行**平等的，对等连接通信**。

​	双方都可以下载对方已经存储在硬盘中的共享文档



### 核心部分

由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）。

#### 电路交换举例

![image-20210308173030849](C:\Users\Stefan\AppData\Roaming\Typora\typora-user-images\image-20210308173030849.png)

​	1.计算机数据具有突发性。

​	2.这导致通信线路的利用率很低。

### 添加首部构成分组

每一个数据段前面添加上首部构成分组。

![image-20210308173627275](C:\Users\Stefan\AppData\Roaming\Typora\typora-user-images\image-20210308173627275.png)

![image-20210308173702935](C:\Users\Stefan\AppData\Roaming\Typora\typora-user-images\image-20210308173702935.png)

#### 分组首部重要性

![image-20210308173846641](C:\Users\Stefan\AppData\Roaming\Typora\typora-user-images\image-20210308173846641.png)

####  注意分组的存储转发过程

![image-20210308194816857](C:\Users\Stefan\AppData\Roaming\Typora\typora-user-images\image-20210308194816857.png)

#### 路由器处理分组的过程

1.把收到的分组先放入缓存（暂时存储）

2.查找转发表，找出某个目的地址应从那个端口转发

3.把分组送到适当的端口转发出去



#### 主机和路由器的作用不同

1.主机是为用户进行信息处理的，并向网络发送分组，从网络接收分组。

2.路由器对分组进行存储转发，最后把分组交付目的的主机。

#### 分组交换的优点和问题

**高效**	动态分配传输带宽，对通信链路是逐段占用。

**灵活**	以分组为传送单位和查找路由

**迅速**	不必先建立连接就能向其他主机发送分组

**可靠**	保证可靠性的网络协议；分布式的路由选择协议使网络有很好的生存性

`问题`	分组在各结点存书转发时需要排队，这就会造成一定的时延

​				分组必须携带的首部（里面有必不可少的控制信息）也造成了一定的开销

#### 三种交换的比较

![image-20210310093536837](C:\Users\Stefan\AppData\Roaming\Typora\typora-user-images\image-20210310093536837.png)