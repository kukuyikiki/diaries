# 预编译

正是因为预编译的机制，导致了js中变量提升的一些问题。

**1.函数声明整体提升**

**2.变量声明提升**

## 预编译什么时候发生

预编译分为全局预编译和局部预编译，全局预编译发生在页面加载完成时执行，而局部预编译发生在函数执行的前一刻。

## js运行

1. 语法分析
2. 预编译
3. 解释执行

## 局部预编译的4个步骤

1. 创建AO对象（Activation Object）执行期上下文。
2. 找形参和变量**声明**，将变量和形参名作为AO属性名，值为undefined
3. 将实参值和形参统一。
4. 在函数体里面找函数声明，值赋予函数体。

## 全局预编译的3个步骤

1. 创建GO对象（Global Object）全局对象。
2. 找变量声明，将变量名作为GO属性名，值为undefined
3. 查找函数声明，作为GO属性，值赋予函数体