# 框架构建方案

## 方案1 在eladmin框架上直接修改

### 任务评估

1. 通用查询去除jpa，保证mp正常运行
2. review数据权限（mp）
3. 安全框架（jwt+security）转为mp版本
4. 用户角色相关全部转为mp（增删改查）
   1. 一对一、一对多、多对多关系使用@one、@many查询，并缓存（mp的二级缓存）
   2. 去掉service的缓存



## ==方案2 重新构建自己的通用框架==

### 任务评估

1. *需求分析（主要明确需求）。产出：接口文档。*
2. *修改数据库*
3. 环境搭建
   1. 选择技术栈（最小引入）
   2. 去除重复依赖
   3. 选择适合我们和常用的common、utils
      1. 加解密策略
   4. 统一响应格式
   5. 统一异常处理
   6. mp代码生成
   7. 通用crud方法
   8. 数据权限
   9. 安全框架
4. 用户角色相关
5. 常用功能
   1. 文件上传
   2. *websocket（可暂时不弄）*
6. *第三方模块*
   1. *微信公众号*
   2. *微信小程序*
   3. *海康*
   4. *腾讯云短信*
7. *完善用户手册和开发文档*



## 开发原则

1. 严格按照Java开发规范和项目开发规范

   1. 注释
   2. 代码质量
   3. 日志
   4. 缓存
   5. 单元测试

2. 开发形成适合我们的技术栈

3. 写完一个功能模块进行测试和评估，通过之后再进行下一个模块开发

4. 开发中解决框架第一版的问题

   